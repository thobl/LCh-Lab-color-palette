{"version":3,"sources":["Color.tsx","Circle.tsx","ColorInput.tsx","Palette.tsx","index.tsx"],"names":["LCh_to_Lab","color","L","a","C","Math","cos","rad","h","b","sin","Lab_to_LCh","deg","atan2","sqrt","ref_white","Lab_to_XYZ","f_","t","delta","X","Y","Z","XYZ_to_Lab","f","x","y","z","XYZ_to_RGB","r","g","gamma","u","R","min","max","G","B","RGB_to_XYZ","gamma_","RGB_to_LCh","XYZ_to_LCh","LCh_to_RGB","LCh_to_XYZ","LCh_to_Hex","to_hex","hex","round","toString","length","RGB_to_Hex","Hex_to_LCh","match","exec","parseInt","NaN","Hex_to_RGB","RGB_to_CSS","LCh_to_CSS","CIEDE2000","color1","color2","L1","a1","b1","L2","a2","b2","C1","C2","C_avg7","deg_atan2","res","h1","h2","dL","dC","dh","abs","dH","L_avg","C_avg","h_avg","T","dtheta","exp","RC","SL","SC","SH","RT","PI","Circle","bgColor","this","props","colorStroke","strokeColor","style","backgroundColor","left","top","width","height","position","borderRadius","border","React","Component","defaultProps","ColorInput","id","colors","input","prop","inputType","convFromLCh","convToLCh","col","onChange","e","change","parseFloat","target","value","col_new","handler","className","type","identity","inp","hexInput","id2","preview_boxes","map","css_color1","css_color2","toFixed","Palette","state","drawLCh","base_n","base_L1","base_L2","base_C1","base_C2","base_h","n","offset","initializeColors","_prevProps","prevState","setColorPropertyAllExceptBase","i","setState","step_L","step_C","push","circles","css_color","inputs","hexOutput","inputSlider","label","factor","inputNumber","inputBool","checked","display","w","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.73f446b1.chunk.js","sourcesContent":["\n//////////////////////////////////////////////////////////////////////\n// definition of color types\n\nexport interface Color {\n  [Key: string]: number;\n}\n\nexport interface ColorLCh extends Color {\n  L: number;\n  C: number;\n  h: number;\n}\n\nexport interface ColorLab extends Color {\n  L: number;\n  a: number;\n  b: number;\n}\n\nexport interface ColorXYZ extends Color {\n  X: number;\n  Y: number;\n  Z: number;\n}\n\nexport interface ColorRGB extends Color {\n  R: number;\n  G: number;\n  B: number;\n}\n\n//////////////////////////////////////////////////////////////////////\n// conversion between color types\n\n// en.wikipedia.org/wiki/CIELAB_color_space#Cylindrical_model\nexport function LCh_to_Lab(color: ColorLCh): ColorLab {\n  return {\n    L: color.L,\n    a: color.C * Math.cos(rad(color.h)),\n    b: color.C * Math.sin(rad(color.h)),\n  };\n}\n\n// en.wikipedia.org/wiki/CIELAB_color_space#Cylindrical_model\nexport function Lab_to_LCh(color: ColorLab): ColorLCh {\n  return {\n    h: deg(Math.atan2(color.b, color.a)),\n    L: color.L,\n    C: Math.sqrt(color.a ** 2 + color.b ** 2)\n  };\n}\n\n// const eps: number = 216 / 24389;\n// const kappa: number = 24389 / 27;\n// Standard Illuminant D65\nconst ref_white: ColorXYZ = { X: 95.0489, Y: 100, Z: 108.8840 }\n\n// https://en.wikipedia.org/wiki/CIELAB_color_space#From_CIELAB_to_CIEXYZ\nexport function Lab_to_XYZ(color: ColorLab): ColorXYZ {\n  const { L, a, b } = color;\n\n  const f_ = (t: number): number => {\n    const delta = 6 / 29;\n    if (t > delta) return t ** 3;\n    return 3 * delta ** 2 * (t - 4 / 29);\n  };\n\n  return {\n    X: ref_white.X * f_((L + 16) / 116 + a / 500),\n    Y: ref_white.Y * f_((L + 16) / 116),\n    Z: ref_white.Z * f_((L + 16) / 116 - b / 200)\n  };\n}\n\n// https://en.wikipedia.org/wiki/CIELAB_color_space#From_CIEXYZ_to_CIELAB[11]\nexport function XYZ_to_Lab(color: ColorXYZ): ColorLab {\n  const { X, Y, Z } = color;\n\n  const f = (t: number): number => {\n    const delta = 6 / 29;\n    if (t > delta ** 3) return t ** (1 / 3);\n    return t / (2 * delta ** 2) + 4 / 29;\n  }\n\n  const x: number = X / ref_white.X;\n  const y: number = Y / ref_white.Y;\n  const z: number = Z / ref_white.Z;\n\n  return {\n    L: 116 * f(y) - 16,\n    a: 500 * (f(x) - f(y)),\n    b: 200 * (f(y) - f(z))\n  };\n}\n\n// https://en.wikipedia.org/wiki/SRGB#Specification_of_the_transformation\nexport function XYZ_to_RGB(color: ColorXYZ): ColorRGB {\n  const { X, Y, Z } = color;\n  const r: number = 3.2404542 * X - 1.5371385 * Y - 0.4985314 * Z;\n  const g: number = -0.9692660 * X + 1.8760108 * Y + 0.0415560 * Z;\n  const b: number = 0.0556434 * X - 0.2040259 * Y + 1.0572252 * Z;\n\n  const gamma = (u: number): number => {\n    if (u < 0.0031308) return 12.92 * u;\n    return 1.055 * u ** (1 / 2.4) - 0.055;\n  }\n\n  const res: ColorRGB = {\n    R: Math.min(1, Math.max(0, gamma(r / 100))),\n    G: Math.min(1, Math.max(0, gamma(g / 100))),\n    B: Math.min(1, Math.max(0, gamma(b / 100)))\n  };\n  return res;\n}\n\n// https://en.wikipedia.org/wiki/SRGB#Specification_of_the_transformation\nexport function RGB_to_XYZ(color: ColorRGB): ColorXYZ {\n  const { R, G, B } = color;\n  const gamma_ = (u: number): number => {\n    if (u < 0.04045) return u / 12.92;\n    return ((u + 0.055) / 1.055) ** 2.4;\n  }\n  const r = gamma_(R);\n  const g = gamma_(G);\n  const b = gamma_(B);\n  return {\n    X: (0.4124564 * r + 0.3575761 * g + 0.1804375 * b) * 100,\n    Y: (0.2126729 * r + 0.7151522 * g + 0.0721750 * b) * 100,\n    Z: (0.0193339 * r + 0.1191920 * g + 0.9503041 * b) * 100\n  };\n}\n\nexport function XYZ_to_LCh(color: ColorXYZ): ColorLCh {\n  return Lab_to_LCh(XYZ_to_Lab(color));\n}\n\nexport function LCh_to_XYZ(color: ColorLCh): ColorXYZ {\n  return Lab_to_XYZ(LCh_to_Lab(color));\n}\n\nexport function RGB_to_Lab(color: ColorRGB): ColorLab {\n  return XYZ_to_Lab(RGB_to_XYZ(color));\n}\n\nexport function Lab_to_RGB(color: ColorLab): ColorRGB {\n  return XYZ_to_RGB(Lab_to_XYZ(color));\n}\n\nexport function RGB_to_LCh(color: ColorRGB): ColorLCh {\n  return XYZ_to_LCh(RGB_to_XYZ(color));\n}\n\nexport function LCh_to_RGB(color: ColorLCh): ColorRGB {\n  return XYZ_to_RGB(LCh_to_XYZ(color));\n}\n\nexport function RGB_to_Hex(color: ColorRGB): string {\n  const to_hex = (x: number) => {\n    const hex = Math.round(x).toString(16);\n    return hex.length === 1 ? '0' + hex : hex;\n  }\n  return \"#\" + to_hex(255 * color.R) + to_hex(255 * color.G) + to_hex(255 * color.B);\n}\n\nexport function Hex_to_RGB(color: string): ColorRGB {\n  let match = /#([\\da-fA-F]{2})([\\da-fA-F]{2})([\\da-fA-F]{2})/.exec(color);\n  if (match)\n    return {\n      R: parseInt(match[1], 16) / 255,\n      G: parseInt(match[2], 16) / 255,\n      B: parseInt(match[3], 16) / 255\n    };\n  return { R: NaN, G: NaN, B: NaN };\n}\n\nexport function LCh_to_Hex(color: ColorLCh): string {\n  return RGB_to_Hex(LCh_to_RGB(color));\n}\n\nexport function Hex_to_LCh(color: string): ColorLCh {\n  return RGB_to_LCh(Hex_to_RGB(color));\n}\n\nexport function RGB_to_CSS(color: ColorRGB): string {\n  return \"rgb(\" + 255 * color.R + \",\" + 255 * color.G + \",\" + 255 * color.B + \")\";\n}\n\nexport function XYZ_to_CSS(color: ColorXYZ): string {\n  return RGB_to_CSS(XYZ_to_RGB(color));\n}\n\nexport function Lab_to_CSS(color: ColorLab): string {\n  return RGB_to_CSS(Lab_to_RGB(color));\n}\n\nexport function LCh_to_CSS(color: ColorLCh): string {\n  return RGB_to_CSS(LCh_to_RGB(color));\n}\n\n\n//////////////////////////////////////////////////////////////////////\n// difference according to CIEDE2000; see\n// http://www.ece.rochester.edu/~gsharma/ciede2000/ciede2000noteCRNA.pdf\n//\n// Numbers are according to the equation labels in that document.\n\nexport function CIEDE2000(color1: ColorLab, color2: ColorLab): number {\n  let { L: L1, a: a1, b: b1 } = color1;\n  let { L: L2, a: a2, b: b2 } = color2;\n\n  const kL: number = 1;\n  const kC: number = 1;\n  const kH: number = 1;\n\n  // (2)\n  let C1: number = Math.sqrt(a1 ** 2 + b1 ** 2);\n  let C2: number = Math.sqrt(a2 ** 2 + b2 ** 2);\n\n  // (3) (additionally: to the power of 7)\n  let C_avg7: number = ((C1 + C2) / 2) ** 7;\n\n  // (4)\n  const G: number = 0.5 * (1 - Math.sqrt(C_avg7 / (C_avg7 + 25 ** 7)));\n\n  // (5)\n  a1 = (1 + G) * a1;\n  a2 = (1 + G) * a2;\n\n  // (6)\n  C1 = Math.sqrt(a1 ** 2 + b1 ** 2);\n  C2 = Math.sqrt(a2 ** 2 + b2 ** 2);\n\n  // (7)\n  const deg_atan2 = (a: number, b: number): number => {\n    const res = deg(Math.atan2(b, a));\n    return res >= 0 ? res : res + 360;\n  }\n  let h1: number = a1 === 0 && b1 === 0 ? 0 : deg_atan2(a1, b1);\n  let h2: number = a2 === 0 && b2 === 0 ? 0 : deg_atan2(a2, b2);\n\n  // (8)\n  const dL: number = L2 - L1;\n\n  // (9)\n  const dC: number = C2 - C1;\n\n  // (10)\n  const dh: number = ((): number => {\n    if (C1 * C2 === 0) return 0;\n    if (Math.abs(h2 - h1) <= 180) return h2 - h1;\n    if (h2 - h1 > 180) return h2 - h1 - 360;\n    return h2 - h1 + 360; // if (h2 - h1 < -180) \n  })();\n\n  // (11)\n  const dH = 2 * Math.sqrt(C1 * C2) * Math.sin(rad(dh / 2));\n\n  // (12)\n  const L_avg: number = (L1 + L2) / 2;\n\n  // (13) (additionally: to the power of 7)\n  const C_avg = (C1 + C2) / 2;\n  C_avg7 = C_avg ** 7;\n\n  // (14)\n  const h_avg: number = ((): number => {\n    if (C1 * C2 === 0) return h1 + h2;\n    if (Math.abs(h1 - h2) <= 180) return (h1 + h2) / 2;\n    if (Math.abs(h1 - h2) > 180 && h1 + h2 < 360) return (h1 + h2 + 360) / 2;\n    return (h1 + h2 - 360) / 2 // if (Math.abs(h1 - h2) > 180 && h1 + h2 >= 360)\n  })();\n\n  // (15)\n  const T: number = 1\n    - 0.17 * Math.cos(rad(h_avg - 30))\n    + 0.24 * Math.cos(rad(2 * h_avg))\n    + 0.32 * Math.cos(rad(3 * h_avg + 6))\n    - 0.2 * Math.cos(rad(4 * h_avg - 63));\n\n  // (16)\n  const dtheta: number = 30 * Math.exp(- (((h_avg - 275) / 25) ** 2));\n\n  // (17)\n  const RC: number = 2 * Math.sqrt(C_avg7 / (C_avg7 + 25 ** 7));\n\n  // (18)\n  const SL: number = 1 + 0.015 * ((L_avg - 50) ** 2) / Math.sqrt(20 + (L_avg - 50) ** 2);\n\n  // (19)\n  const SC: number = 1 + 0.045 * C_avg;\n\n  // (20)\n  const SH: number = 1 + 0.015 * C_avg * T;\n\n  // (21)\n  const RT = - Math.sin(rad(2 * dtheta)) * RC;\n\n  // (22)\n  const dE: number = Math.sqrt(\n    (dL / (kL * SL)) ** 2 +\n    (dC / (kC * SC)) ** 2 +\n    (dH / (kH * SH)) ** 2 +\n    RT * (dC / (kC * SC)) * (dH / (kH * SH)));\n\n  return dE;\n}\n\nfunction deg(rad: number): number {\n  return rad * 180 / Math.PI;\n}\n\nfunction rad(deg: number): number {\n  return deg * Math.PI / 180;\n}\n\n\nexport function check_conversion() {\n  // const rgb1: ColorRGB = {R: Math.random(), G: Math.random(), B: Math.random()};\n  const rgb1: ColorRGB = { R: 100 / 255, G: 241 / 255, B: 2 / 255 };\n  const xyz1: ColorXYZ = RGB_to_XYZ(rgb1);\n  const lab1: ColorLab = XYZ_to_Lab(xyz1);\n  const hlc: ColorLCh = Lab_to_LCh(lab1);\n  const lab2: ColorLab = LCh_to_Lab(hlc);\n  const xyz2: ColorXYZ = Lab_to_XYZ(lab2);\n  const rgb2: ColorRGB = XYZ_to_RGB(xyz2);\n  console.log(\"rgb\", rgb1);\n  console.log(\"xyz\", xyz1);\n  console.log(\"lab\", lab1);\n  console.log(\"hlc\", hlc);\n  console.log(\"lab\", lab2);\n  console.log(\"xyz\", xyz2);\n  console.log(\"rgb\", rgb2);\n}\n\nexport function check_CIEDE2000() {\n  let i = 1;\n  console.log(i++, CIEDE2000({ L: 50.0000, a: 2.6772, b: -79.7751 }, { L: 50.0000, a: 0.0000, b: -82.7485 }) - 2.0425)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: 3.1571, b: -77.2803 }, { L: 50.0000, a: 0.0000, b: -82.7485 }) - 2.8615)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: 2.8361, b: -74.0200 }, { L: 50.0000, a: 0.0000, b: -82.7485 }) - 3.4412)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: -1.3802, b: -84.2814 }, { L: 50.0000, a: 0.0000, b: -82.7485 }) - 1.0000)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: -1.1848, b: -84.8006 }, { L: 50.0000, a: 0.0000, b: -82.7485 }) - 1.0000)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: -0.9009, b: -85.5211 }, { L: 50.0000, a: 0.0000, b: -82.7485 }) - 1.0000)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: 0.0000, b: 0.0000 }, { L: 50.0000, a: -1.0000, b: 2.0000 }) - 2.3669)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: -1.0000, b: 2.0000 }, { L: 50.0000, a: 0.0000, b: 0.0000 }) - 2.3669)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: 2.4900, b: -0.0010 }, { L: 50.0000, a: -2.4900, b: 0.0009 }) - 7.1792)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: 2.4900, b: -0.0010 }, { L: 50.0000, a: -2.4900, b: 0.0010 }) - 7.1792)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: 2.4900, b: -0.0010 }, { L: 50.0000, a: -2.4900, b: 0.0011 }) - 7.2195)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: 2.4900, b: -0.0010 }, { L: 50.0000, a: -2.4900, b: 0.0012 }) - 7.2195)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: -0.0010, b: 2.4900 }, { L: 50.0000, a: 0.0009, b: -2.4900 }) - 4.8045)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: -0.0010, b: 2.4900 }, { L: 50.0000, a: 0.0010, b: -2.4900 }) - 4.8045)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: -0.0010, b: 2.4900 }, { L: 50.0000, a: 0.0011, b: -2.4900 }) - 4.7461)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: 2.5000, b: 0.0000 }, { L: 50.0000, a: 0.0000, b: -2.5000 }) - 4.3065)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: 2.5000, b: 0.0000 }, { L: 73.0000, a: 25.0000, b: -18.0000 }) - 27.1492)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: 2.5000, b: 0.0000 }, { L: 61.0000, a: -5.0000, b: 29.0000 }) - 22.8977)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: 2.5000, b: 0.0000 }, { L: 56.0000, a: -27.0000, b: -3.0000 }) - 31.9030)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: 2.5000, b: 0.0000 }, { L: 58.0000, a: 24.0000, b: 15.0000 }) - 19.4535)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: 2.5000, b: 0.0000 }, { L: 50.0000, a: 3.1736, b: 0.5854 }) - 1.0000)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: 2.5000, b: 0.0000 }, { L: 50.0000, a: 3.2972, b: 0.0000 }) - 1.0000)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: 2.5000, b: 0.0000 }, { L: 50.0000, a: 1.8634, b: 0.5757 }) - 1.0000)\n  console.log(i++, CIEDE2000({ L: 50.0000, a: 2.5000, b: 0.0000 }, { L: 50.0000, a: 3.2592, b: 0.3350 }) - 1.0000)\n  console.log(i++, CIEDE2000({ L: 60.2574, a: -34.0099, b: 36.2677 }, { L: 60.4626, a: -34.1751, b: 39.4387 }) - 1.2644)\n  console.log(i++, CIEDE2000({ L: 63.0109, a: -31.0961, b: -5.8663 }, { L: 62.8187, a: -29.7946, b: -4.0864 }) - 1.2630)\n  console.log(i++, CIEDE2000({ L: 61.2901, a: 3.7196, b: -5.3901 }, { L: 61.4292, a: 2.2480, b: -4.9620 }) - 1.8731)\n  console.log(i++, CIEDE2000({ L: 35.0831, a: -44.1164, b: 3.7933 }, { L: 35.0232, a: -40.0716, b: 1.5901 }) - 1.8645)\n  console.log(i++, CIEDE2000({ L: 22.7233, a: 20.0904, b: -46.6940 }, { L: 23.0331, a: 14.9730, b: -42.5619 }) - 2.0373)\n  console.log(i++, CIEDE2000({ L: 36.4612, a: 47.8580, b: 18.3852 }, { L: 36.2715, a: 50.5065, b: 21.2231 }) - 1.4146)\n  console.log(i++, CIEDE2000({ L: 90.8027, a: -2.0831, b: 1.4410 }, { L: 91.1528, a: -1.6435, b: 0.0447 }) - 1.4441)\n  console.log(i++, CIEDE2000({ L: 90.9257, a: -0.5406, b: -0.9208 }, { L: 88.6381, a: -0.8985, b: -0.7239 }) - 1.5381)\n  console.log(i++, CIEDE2000({ L: 6.7747, a: -0.2908, b: -2.4247 }, { L: 5.8714, a: -0.0985, b: -2.2286 }) - 0.6377)\n  console.log(i++, CIEDE2000({ L: 2.0776, a: 0.0795, b: -1.1350 }, { L: 0.9033, a: -0.0636, b: -0.5514 }) - 0.9082)\n}\n","import React from 'react'\n\ninterface CircleProps {\n  x: number;\n  y: number;\n  r: number;\n  color: string;\n  colorStroke: boolean;\n}\n\nclass Circle extends React.Component<CircleProps> {\n  public static defaultProps = {\n    colorStroke: false\n  };\n  render(): JSX.Element {\n    const bgColor = this.props.colorStroke ? 'white' : this.props.color;\n    const strokeColor = this.props.colorStroke ? this.props.color : 'black';\n    return (\n      <div style={{\n        backgroundColor: bgColor,\n        left: this.props.x - this.props.r,\n        top: this.props.y - this.props.r,\n        width: this.props.r * 2,\n        height: this.props.r * 2,\n        position: 'absolute',\n        borderRadius: '50%',\n        border: `2px solid ${strokeColor}`\n      }}>\n      </div>\n    )\n  }\n}\n\nexport default Circle;\n","import React from 'react'\nimport { CIEDE2000, ColorLCh, Hex_to_LCh, LCh_to_Lab, LCh_to_Hex, Lab_to_LCh, LCh_to_CSS, Color } from './Color';\n\ninterface ColorInputProps {\n  colors: Array<ColorLCh>;\n  id: number;\n  handler: (colors: Array<ColorLCh>) => void;\n}\n\nexport default class ColorInput extends React.Component<ColorInputProps> {\n  render(): JSX.Element {\n    const id: number = this.props.id;\n    // make shallow copies of the color array and of our color\n    const colors: Array<ColorLCh> = [...this.props.colors];\n    const color: ColorLCh = { ...colors[id] };\n\n    // create an input (as text or slide) for a property of a color\n    const input = <T extends Color>(\n      prop: keyof T,\n      inputType: 'txt' | 'sld',\n      min: number, max: number,\n      convFromLCh: (color: ColorLCh) => T,\n      convToLCh: (col: T) => ColorLCh) => {\n\n      // color in the desired format\n      let col: T = convFromLCh(color);\n\n      // change handler\n      const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        let change: any = {};\n        change[prop] = Math.min(max, Math.max(min, parseFloat(e.target.value)));\n        const col_new = { ...col, ...change };\n        colors[id] = convToLCh(col_new);\n        this.props.handler(colors);\n      }\n\n      // html form\n      if (inputType === 'txt') {\n        return (<input className='ParamInput' type='text' value={Math.round(col[prop])} onChange={onChange} />);\n      }\n      return (<input className='Slider' type='range' min={min} max={max} value={col[prop]} onChange={onChange} />);\n    };\n\n    const identity = <T extends unknown>(inp: T): T => inp;\n\n    const onChangeHex = (e: React.ChangeEvent<HTMLInputElement>) => {\n      colors[id] = Hex_to_LCh(e.target.value);\n      this.props.handler(colors);\n    }\n\n    const hexInput = <input className='hexInput' type='text' value={LCh_to_Hex(color)} onChange={onChangeHex} />\n\n    let id2: number = 0;\n    const preview_boxes = colors.map((color2: ColorLCh) => {\n      const css_color1: string = LCh_to_CSS(color);\n      const css_color2: string = LCh_to_CSS(color2);\n      return (\n        <div className='ColorInputPreviewBox' key={id2++} style={{ backgroundColor: css_color1, color: css_color2 }}>\n          {CIEDE2000(LCh_to_Lab(color), LCh_to_Lab(color2)).toFixed(2)}\n        </div>\n      );\n    });\n\n    return (\n      <div className='ColorInput'>\n        <div className='ColorInputControls'>\n        <span className='label'>L:</span>\n          {input('L', 'sld', 0, 100, identity, identity)}\n          {input('L', 'txt', 0, 100, identity, identity)}\n          <span className='Spacer'></span>\n        <span className='label'>C:</span>\n          {input('C', 'sld', 0, 180, identity, identity)}\n          {input('C', 'txt', 0, 180, identity, identity)}\n          <span className='Spacer'></span>\n        <span className='label'>h:</span>\n          {input('h', 'sld', -180, 180, identity, identity)}\n          {input('h', 'txt', -180, 180, identity, identity)}\n        </div>\n        <div className='ColorInputControls'>\n        <span className='label'>L:</span>\n          {input('L', 'sld', 0, 100, LCh_to_Lab, Lab_to_LCh)}\n          {input('L', 'txt', 0, 100, LCh_to_Lab, Lab_to_LCh)}\n          <span className='Spacer'></span>\n        <span className='label'>a:</span>\n          {input('a', 'sld', -128, 127, LCh_to_Lab, Lab_to_LCh)}\n          {input('a', 'txt', -128, 127, LCh_to_Lab, Lab_to_LCh)}\n          <span className='Spacer'></span>\n        <span className='label'>b:</span>\n          {input('b', 'sld', -128, 127, LCh_to_Lab, Lab_to_LCh)}\n          {input('b', 'txt', -128, 127, LCh_to_Lab, Lab_to_LCh)}\n        </div>\n        <div className='ColorInputPreviewRow' >\n          {hexInput}\n          {preview_boxes}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react'\nimport { ColorLCh, LCh_to_CSS, LCh_to_Hex, LCh_to_Lab } from './Color'\nimport Circle from './Circle'\nimport ColorInput from './ColorInput';\n\ninterface PaletteProps {\n}\n\ninterface PaletteState {\n  colors: Array<ColorLCh>;\n  drawLCh: boolean;\n  colorStroke: boolean;\n  base_n: number;\n  base_L1: number;\n  base_L2: number;\n  base_C1: number;\n  base_C2: number;\n  base_h: number;\n  n: number;\n  offset: number;\n  L: number;\n  C: number;\n}\n\n// dimensions of the canvas\nconst w: number = 600;\nconst h: number = 600;\n// max radius of a disk\nconst r: number = 30;\n\nclass Palette extends React.Component<PaletteProps, PaletteState> {\n  constructor(props: PaletteProps) {\n    super(props);\n    this.state = {\n      colors: [],\n      drawLCh: false,\n      colorStroke: false,\n      base_n: 3,\n      base_L1: 100,\n      base_L2: 0,\n      base_C1: 0,\n      base_C2: 0,\n      base_h: 0,\n      n: 6,\n      offset: 0.33333,\n      L: 40,\n      C: 60\n    };\n  }\n\n  private x(color: ColorLCh): number {\n    if (this.state.drawLCh) {\n      const H: number = color.h;\n      return (H + 180) / 360 * (w - 2 * r) + r;\n    }\n    return (LCh_to_Lab(color).a + 128) / 255 * (w - 2 * r) + r;\n  }\n\n  private y(color: ColorLCh): number {\n    if (this.state.drawLCh) {\n      const C: number = color.C;\n      return C / 181 * (h - 2 * r) + r;\n    }\n\n    return (LCh_to_Lab(color).b + 128) / 255 * (h - 2 * r) + r;\n  }\n\n  private r(color: ColorLCh): number {\n    const min: number = 10;\n    return color.L / 100 * (r - min) + min;\n  }\n\n  componentDidMount() {\n    this.initializeColors();\n  }\n\n  componentDidUpdate(_prevProps: PaletteProps, prevState: PaletteState) {\n    if (prevState.n !== this.state.n\n      || prevState.base_n !== this.state.base_n\n      || prevState.offset !== this.state.offset\n      || prevState.base_L1 !== this.state.base_L1\n      || prevState.base_L2 !== this.state.base_L2\n      || prevState.base_C1 !== this.state.base_C1\n      || prevState.base_C2 !== this.state.base_C2\n      || prevState.base_h !== this.state.base_h) {\n      this.initializeColors();\n    }\n    if (prevState.L !== this.state.L) {\n      this.setColorPropertyAllExceptBase('L', this.state.L);\n    }\n    if (prevState.C !== this.state.C) {\n      this.setColorPropertyAllExceptBase('C', this.state.C);\n    }\n  }\n\n  private setColorPropertyAllExceptBase(prop: keyof ColorLCh, value: number) {\n    let colors: Array<ColorLCh> = [...this.state.colors];\n    for (let i = this.state.base_n; i < colors.length; i++) {\n      colors[i][prop] = value;\n    }\n    this.setState({ 'colors': colors });\n  }\n\n  private initializeColors() {\n    let colors: Array<ColorLCh> = [];\n\n    const {base_n, base_L1, base_L2, base_C1, base_C2, base_h} = this.state;\n    const step_L = (base_L2 - base_L1) / (base_n - 1);\n    const step_C = (base_C2 - base_C1) / (base_n - 1);\n    for (let i = 0; i < base_n; i++) {\n      colors.push({\n        h: base_h, \n        L: base_L1 + i * step_L,\n        C: base_C1 + i * step_C\n      })\n    }\n    const n: number = this.state.n;\n    for (let i = 0; i < n; i++) {\n      colors.push({\n        h: -180 + (i + this.state.offset) * 360 / n,\n        L: this.state.L,\n        C: this.state.C\n      });\n    }\n    this.setState({ 'colors': colors });\n  }\n\n  render(): JSX.Element {\n    const colors = this.state.colors;\n\n    // drawing the circles\n    let id: number = 0;\n    const circles = colors.map((color: ColorLCh): JSX.Element => {\n      const css_color: string = LCh_to_CSS(color);\n      return (<Circle key={`circle_${id++}`} x={this.x(color)} y={this.y(color)}\n        r={this.r(color)} color={css_color} colorStroke={this.state.colorStroke} />);\n    });\n\n    // controls for the individual colors\n    id = 0;\n    const inputs = colors.map(() => {\n      const handler = (colors: Array<ColorLCh>) => {\n        this.setState({ 'colors': colors });\n      };\n      return (<ColorInput key={`input_${id}`} colors={colors} id={id++} handler={handler} />);\n    });\n\n    // output as hex (for copying somewhere)\n    id = 0;\n    const hexOutput = colors.map((color: ColorLCh): JSX.Element => {\n      return (<div key={`hexoutput_${id++}`}>{LCh_to_Hex(color)}</div>);\n    });\n\n    // function generating controls for global options\n    type numberKeys = Exclude<keyof PaletteState, 'colors' | 'drawLCh' | 'colorStroke'>;\n    const inputSlider = (prop: numberKeys, min: number, max: number, label: string, factor: number = 1) => (\n      <div className='row'>\n        <input className='Slider' type='range' min={min} max={max} value={factor * this.state[prop]}\n          onChange={(e) => this.setState({ ...this.state, [prop]: parseFloat(e.target.value) / factor })\n          } />\n        <span className='Spacer'> </span>\n        {label}\n      </div>\n    );\n    const inputNumber = (prop: numberKeys, label: string) => (\n      <div className='row'>\n        <input className='nInput' type='text' value={this.state[prop]}\n          onChange={(e) => this.setState({ ...this.state, [prop]: parseFloat(e.target.value) })\n          } />\n        <span className='Spacer'> </span>\n        {label}\n      </div>\n    );\n    const inputBool = (prop: 'drawLCh' | 'colorStroke', label: string) => (\n      <div className='row'>\n        <input type='checkbox' checked={this.state[prop]}\n          onChange={(e) => this.setState({ ...this.state, [prop]: e.target.checked })\n          } />\n        <span className='Spacer'> </span>\n        {label}\n      </div>\n    );\n\n    return (\n      <div style={{ display: 'flex' }}>\n        <div>\n          <div className='CircleBox' style={{ width: w + 'px', height: h + 'px' }}>\n            {circles}\n          </div>\n          {inputBool('drawLCh', 'draw as LCh (Lab otherwise)')}\n          {inputBool('colorStroke', 'color circle border (instead of interior)')}\n          {inputNumber('base_n', 'number of base colors')}\n          {inputSlider('base_L1', 0, 100, 'L1 (lightness)')}\n          {inputSlider('base_C1', 0, 180, 'C1 (chroma)')}\n          {inputSlider('base_L2', 0, 100, 'L2 (lightness)')}\n          {inputSlider('base_C2', 0, 180, 'C2 (chroma)')}\n          {inputSlider('base_h', -180, 180, 'h (hue)')}\n          {inputNumber('n', 'number of colors')}\n          {inputSlider('L', 0, 100, 'L (lightness)')}\n          {inputSlider('C', 0, 180, 'C (chroma)')}\n          {inputSlider('offset', 0, 100, 'h-offset (hue)', 100)}\n          {hexOutput}\n        </div>\n        <div>\n          {inputs}\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default Palette;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Palette from './Palette';\nimport './Palette.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Palette />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}